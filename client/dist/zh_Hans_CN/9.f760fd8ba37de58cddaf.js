(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7Ijx":function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=function(){return function(){}}(),i=e("pMnS"),u=e("1+T7"),r=e("gIcY"),a=e("Ip0R"),d=e("GS5F"),s=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ui-progressbar-label"]],[[4,"display",null]],null,null,null,null)),(n()(),t["\u0275ted"](1,null,["","",""]))],null,function(n,l){var e=l.component;n(l,0,0,null!=e.value?"block":"none"),n(l,1,0,e.value,e.unit)})}function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["role","progressbar"]],[[1,"aria-valuenow",0]],null,null,null,null)),t["\u0275did"](1,278528,null,0,a.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"ui-progressbar ui-widget ui-widget-content ui-corner-all":0,"ui-progressbar-determinate":1,"ui-progressbar-indeterminate":2}),t["\u0275did"](3,278528,null,0,a.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),(n()(),t["\u0275eld"](4,0,null,null,0,"div",[["class","ui-progressbar-value ui-progressbar-value-animate ui-widget-header ui-corner-all"],["style","display:block"]],[[4,"width",null]],null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,c)),t["\u0275did"](6,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component,t=e.styleClass,o=n(l,2,0,!0,"determinate"===e.mode,"indeterminate"===e.mode);n(l,1,0,t,o),n(l,3,0,e.style),n(l,6,0,e.showValue)},function(n,l){var e=l.component;n(l,0,0,e.value),n(l,4,0,e.value+"%")})}var g=e("ecRl"),v=e("QUbI"),f=e("3szM"),m=e("0C+C"),C=e("cKMx"),h=e("ZYCi"),b=e("lNG3"),_=e("pyEO"),P=e("M9Zh"),O=e("mrSG"),M=e("t/Na"),S=e("ynQB"),y=e("XX9I"),x=e("BHD2"),I=(e("ey9i"),e("UFc/")),V=e("LTwV"),E=e("15JJ"),R=e("xMyE"),U=e("9Z1F"),w=e("M0ag"),N=e("HB7e"),D=function(n){function l(){var l=null!==n&&n.apply(this,arguments)||this;return l.userVideoChannels=[],l.videoPrivacies=[],l.videoCaptions=[],l.firstStepPrivacyId=0,l.firstStepChannelId=0,l}return Object(O.__extends)(l,n),l.prototype.ngOnInit=function(){var n=this;this.buildForm({}),Object(N.i)(this.authService,this.userVideoChannels).then(function(){return n.firstStepChannelId=n.userVideoChannels[0].id}),this.serverService.videoPrivaciesLoaded.subscribe(function(){n.videoPrivacies=n.serverService.getVideoPrivacies(),n.firstStepPrivacyId=n.DEFAULT_VIDEO_PRIVACY})},l.prototype.checkForm=function(){return this.forceCheck(),this.form.valid},l.prototype.updateVideoAndCaptions=function(n){var l=this;return this.loadingBar.start(),this.videoService.updateVideo(n).pipe(Object(E.a)(function(){return l.videoCaptionService.updateCaptions(n.id,l.videoCaptions)}),Object(R.a)(function(){return l.loadingBar.complete()}),Object(U.a)(function(n){throw l.loadingBar.complete(),n}))},l}(w.a),k=(e("HUk+"),function(n){function l(l,e,o,i,u,r,a,d,s,c){var p=n.call(this)||this;return p.formValidatorService=l,p.loadingBar=e,p.notificationsService=o,p.authService=i,p.serverService=u,p.videoService=r,p.videoCaptionService=a,p.userService=d,p.router=s,p.i18n=c,p.firstStepDone=new t.EventEmitter,p.firstStepError=new t.EventEmitter,p.SPECIAL_SCHEDULED_PRIVACY=I.a.SPECIAL_SCHEDULED_PRIVACY,p.userVideoQuotaUsed=0,p.userVideoQuotaUsedDaily=0,p.isUploadingVideo=!1,p.isUpdatingVideo=!1,p.videoUploaded=!1,p.videoUploadObservable=null,p.videoUploadPercents=0,p.videoUploadedIds={id:0,uuid:""},p.DEFAULT_VIDEO_PRIVACY=x.c.PUBLIC,p}return Object(O.__extends)(l,n),Object.defineProperty(l.prototype,"videoExtensions",{get:function(){return this.serverService.getConfig().video.file.extensions.join(",")},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;n.prototype.ngOnInit.call(this),this.userService.getMyVideoQuotaUsed().subscribe(function(n){l.userVideoQuotaUsed=n.videoQuotaUsed,l.userVideoQuotaUsedDaily=n.videoQuotaUsedDaily})},l.prototype.ngOnDestroy=function(){this.videoUploadObservable&&this.videoUploadObservable.unsubscribe()},l.prototype.canDeactivate=function(){var n;return n=!0===this.videoUploaded?this.i18n("Your video was uploaded to your account and is private.")+" "+this.i18n("But associated data (tags, description...) will be lost, are you sure you want to leave this page?"):this.i18n("Your video is not uploaded yet, are you sure you want to leave this page?"),{canDeactivate:!this.isUploadingVideo,text:n}},l.prototype.fileChange=function(){this.uploadFirstStep()},l.prototype.cancelUpload=function(){null!==this.videoUploadObservable&&(this.videoUploadObservable.unsubscribe(),this.isUploadingVideo=!1,this.videoUploadPercents=0,this.videoUploadObservable=null,this.notificationsService.info(this.i18n("Info"),this.i18n("Upload cancelled")))},l.prototype.uploadFirstStep=function(){var n=this,l=this.videofileInput.nativeElement.files[0];if(l)if(l.size>8589934592)this.notificationsService.error(this.i18n("Error"),this.i18n("We are sorry but PeerTube cannot handle videos > 8GB"));else{var e=new y.a,t=this.authService.getUser().videoQuota;if(-1!==t&&this.userVideoQuotaUsed+l.size>t){var o=this.i18n("Your video quota is exceeded with this video (video size: {{videoSize}}, used: {{videoQuotaUsed}}, quota: {{videoQuota}})",{videoSize:e.transform(l.size,0),videoQuotaUsed:e.transform(this.userVideoQuotaUsed,0),videoQuota:e.transform(t,0)});this.notificationsService.error(this.i18n("Error"),o)}else{var i=this.authService.getUser().videoQuotaDaily;if(-1!==i&&this.userVideoQuotaUsedDaily+l.size>i)o=this.i18n("Your daily video quota is exceeded with this video (video size: {{videoSize}}, used: {{quotaUsedDaily}}, quota: {{quotaDaily}})",{videoSize:e.transform(l.size,0),quotaUsedDaily:e.transform(this.userVideoQuotaUsedDaily,0),quotaDaily:e.transform(i,0)}),this.notificationsService.error(this.i18n("Error"),o);else{var u,r=l.name.replace(/\.[^\/.]+$/,"");u=r.length<3?l.name:r;var a=this.firstStepPrivacyId.toString(),d=this.firstStepChannelId.toString(),s=new FormData;s.append("name",u),s.append("privacy",x.c.PRIVATE.toString()),s.append("nsfw",""+!1),s.append("commentsEnabled",""+!0),s.append("waitTranscoding",""+!0),s.append("channelId",""+d),s.append("videofile",l),this.isUploadingVideo=!0,this.firstStepDone.emit(u),this.form.patchValue({name:u,privacy:a,nsfw:!1,channelId:d}),this.videoPrivacies=this.videoService.explainedPrivacyLabels(this.videoPrivacies),this.videoUploadObservable=this.videoService.uploadVideo(s).subscribe(function(l){l.type===M.f.UploadProgress?n.videoUploadPercents=Math.round(100*l.loaded/l.total):l instanceof M.k&&(n.videoUploaded=!0,n.videoUploadedIds=l.body.video,n.videoUploadObservable=null)},function(l){n.isUploadingVideo=!1,n.videoUploadPercents=0,n.videoUploadObservable=null,n.firstStepError.emit(),n.notificationsService.error(n.i18n("Error"),l.message)})}}}},l.prototype.isPublishingButtonDisabled=function(){return!this.form.valid||!0===this.isUpdatingVideo||!0!==this.videoUploaded},l.prototype.updateSecondStep=function(){var n=this;if(!1!==this.checkForm()){var l=new I.a;l.patch(this.form.value),l.id=this.videoUploadedIds.id,l.uuid=this.videoUploadedIds.uuid,this.isUpdatingVideo=!0,this.updateVideoAndCaptions(l).subscribe(function(){n.isUpdatingVideo=!1,n.isUploadingVideo=!1,n.notificationsService.success(n.i18n("Success"),n.i18n("Video published.")),n.router.navigate(["/videos/watch",l.uuid])},function(l){n.error=l.message,Object(N.k)(),console.error(l)})}},l}(D)),T=e("Vurf"),A=e("vQJr"),F=e("Jm/i"),L=t["\u0275crt"]({encapsulation:0,styles:[u.a,[".peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;border:1px solid #c6c6c6;width:190px;border-radius:3px;overflow:hidden;background:var(--inputColor);position:relative;font-size:15px}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:\" \";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:none;box-shadow:none;background:0 0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:0}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.alert.alert-danger[_ngcontent-%COMP%]{text-align:center}.alert.alert-danger[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-weight:600}.upload-video[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.upload-video[_ngcontent-%COMP%]   .form-group-channel[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:35px}.upload-video[_ngcontent-%COMP%]   .icon.icon-upload[_ngcontent-%COMP%]{display:inline-block;background-repeat:no-repeat;background-size:contain;width:90px;height:90px;vertical-align:middle;margin-bottom:25px;cursor:default;background-image:url(/client/zh_Hans_CN/upload.de676608ea42ab36dca5.svg)}.upload-video[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block;width:auto;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0;min-width:190px}.upload-video[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%], .upload-video[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:active, .upload-video[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.upload-video[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.upload-video[_ngcontent-%COMP%]   .button-file.disabled[_ngcontent-%COMP%], .upload-video[_ngcontent-%COMP%]   .button-file[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.upload-video[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:0;background:#fff;cursor:inherit;display:block}.upload-video[_ngcontent-%COMP%]   .button-file-extension[_ngcontent-%COMP%]{display:block;font-size:12px;margin-top:5px}.upload-progress-cancel[_ngcontent-%COMP%]{display:flex;margin-top:25px;margin-bottom:40px}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar[_ngcontent-%COMP%]{flex-grow:1}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar[_ngcontent-%COMP%]     .ui-progressbar{font-size:15px!important;color:#fff!important;height:30px!important;line-height:30px!important;border-radius:3px!important;background-color:rgba(11,204,41,.16)!important}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar[_ngcontent-%COMP%]     .ui-progressbar .ui-progressbar-value{background-color:#0bcc29!important}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar[_ngcontent-%COMP%]     .ui-progressbar .ui-progressbar-label{text-align:left;padding-left:18px;margin-top:0!important}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar.processing[_ngcontent-%COMP%]     .ui-progressbar-label{color:rgba(11,204,41,.16)!important}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar.processing[_ngcontent-%COMP%]     .ui-progressbar-label::before{content:'Processing...';color:#fff}.upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0;margin-left:10px}.upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#e5e5e5;color:#585858}.upload-progress-cancel[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .upload-progress-cancel[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{color:#585858;background-color:#efefef}.upload-progress-cancel[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{cursor:default}"]],data:{}});function B(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)},function(n,l){n(l,3,0,l.context.$implicit.label)})}function z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)},function(n,l){n(l,3,0,l.context.$implicit.label)})}function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,36,"div",[["class","upload-video-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,35,"div",[["class","upload-video"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,0,"div",[["class","icon icon-upload"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","button-file"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u9009\u62e9\u8981\u4e0a\u4f20\u7684\u6587\u4ef6"])),(n()(),t["\u0275eld"](6,0,[[1,0],["videofileInput",1]],null,0,"input",[["id","videofile"],["name","videofile"],["type","file"]],[[8,"accept",0]],[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.fileChange()&&t),t},null,null)),(n()(),t["\u0275eld"](7,0,null,null,1,"span",[["class","button-file-extension"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["(.mp4, .webm, .ogv)"])),(n()(),t["\u0275eld"](9,0,null,null,11,"div",[["class","form-group form-group-channel"]],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,1,"label",[["for","first-step-channel"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u9891\u9053"])),(n()(),t["\u0275eld"](12,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,7,"select",[["id","first-step-channel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,14).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,14).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepChannelId=e)&&o),o},null,null)),t["\u0275did"](14,16384,null,0,r.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.SelectControlValueAccessor]),t["\u0275did"](16,671744,null,0,r.NgModel,[[8,null],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.NgControl,null,[r.NgModel]),t["\u0275did"](18,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,B)),t["\u0275did"](20,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](21,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](22,0,null,null,1,"label",[["for","first-step-privacy"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u9690\u79c1"])),(n()(),t["\u0275eld"](24,0,null,null,12,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](25,0,null,null,11,"select",[["id","first-step-privacy"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,26).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,26).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepPrivacyId=e)&&o),o},null,null)),t["\u0275did"](26,16384,null,0,r.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.SelectControlValueAccessor]),t["\u0275did"](28,671744,null,0,r.NgModel,[[8,null],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.NgControl,null,[r.NgModel]),t["\u0275did"](30,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,z)),t["\u0275did"](32,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](33,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](34,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](35,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](-1,null,["\u5b9a\u65f6\u53d1\u5e03"]))],function(n,l){var e=l.component;n(l,16,0,e.firstStepChannelId),n(l,20,0,e.userVideoChannels),n(l,28,0,e.firstStepPrivacyId),n(l,32,0,e.videoPrivacies),n(l,34,0,e.SPECIAL_SCHEDULED_PRIVACY),n(l,35,0,e.SPECIAL_SCHEDULED_PRIVACY)},function(n,l){n(l,6,0,l.component.videoExtensions),n(l,13,0,t["\u0275nov"](l,18).ngClassUntouched,t["\u0275nov"](l,18).ngClassTouched,t["\u0275nov"](l,18).ngClassPristine,t["\u0275nov"](l,18).ngClassDirty,t["\u0275nov"](l,18).ngClassValid,t["\u0275nov"](l,18).ngClassInvalid,t["\u0275nov"](l,18).ngClassPending),n(l,25,0,t["\u0275nov"](l,30).ngClassUntouched,t["\u0275nov"](l,30).ngClassTouched,t["\u0275nov"](l,30).ngClassPristine,t["\u0275nov"](l,30).ngClassDirty,t["\u0275nov"](l,30).ngClassValid,t["\u0275nov"](l,30).ngClassInvalid,t["\u0275nov"](l,30).ngClassPending)})}function j(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"input",[["type","button"],["value","Cancel"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.cancelUpload()&&t),t},null,null))],null,null)}function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","upload-progress-cancel"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"p-progressBar",[],null,null,null,p,s)),t["\u0275did"](2,278528,null,0,a.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{processing:0}),t["\u0275did"](4,49152,null,0,d.ProgressBar,[],{value:[0,"value"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](6,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component,t=n(l,3,0,100===e.videoUploadPercents&&!1===e.videoUploaded);n(l,2,0,t),n(l,4,0,e.videoUploadPercents),n(l,6,0,!1===e.videoUploaded)},null)}function Q(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Sorry, but something went wrong"])),(n()(),t["\u0275ted"](3,null,[" ","\n"]))],null,function(n,l){n(l,3,0,l.component.error)})}function q(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","message-submit"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u4e0a\u4f20\u5b8c\u6bd5\u540e\u5373\u53ef\u53d1\u5e03"]))],null,null)}function Y(n){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{videofileInput:0}),(n()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](2,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](6,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](7,0,null,null,14,"form",[["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,9).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,9).onReset()&&o),o},null,null)),t["\u0275did"](8,16384,null,0,r["\u0275angular_packages_forms_forms_bh"],[],null,null),t["\u0275did"](9,540672,null,0,r.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,r.ControlContainer,null,[r.FormGroupDirective]),t["\u0275did"](11,16384,null,0,r.NgControlStatusGroup,[[4,r.ControlContainer]],null,null),(n()(),t["\u0275eld"](12,0,null,null,1,"my-video-edit",[],null,null,null,g.b,g.a)),t["\u0275did"](13,245760,null,0,v.a,[f.a,m.a,C.a,h.a,h.p,b.NotificationsService,_.a,P.a],{form:[0,"form"],formErrors:[1,"formErrors"],validationMessages:[2,"validationMessages"],videoPrivacies:[3,"videoPrivacies"],userVideoChannels:[4,"userVideoChannels"],videoCaptions:[5,"videoCaptions"]},null),(n()(),t["\u0275eld"](14,0,null,null,7,"div",[["class","submit-container"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](16,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](17,0,null,null,4,"div",[["class","submit-button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.updateSecondStep()&&t),t},null,null)),t["\u0275did"](18,278528,null,0,a.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](19,{disabled:0}),(n()(),t["\u0275eld"](20,0,null,null,0,"span",[["class","icon icon-validate"]],null,null,null,null,null)),(n()(),t["\u0275eld"](21,0,null,null,0,"input",[["type","button"],["value","\u53d1\u5e03"]],[[8,"disabled",0]],null,null,null,null))],function(n,l){var e=l.component;n(l,2,0,!e.isUploadingVideo),n(l,4,0,e.isUploadingVideo&&!e.error),n(l,6,0,e.error),n(l,9,0,e.form),n(l,13,0,e.form,e.formErrors,e.validationMessages,e.videoPrivacies,e.userVideoChannels,e.videoCaptions),n(l,16,0,!1===e.videoUploaded);var t=n(l,19,0,e.isPublishingButtonDisabled());n(l,18,0,"submit-button",t)},function(n,l){var e=l.component;n(l,7,0,!e.isUploadingVideo,t["\u0275nov"](l,11).ngClassUntouched,t["\u0275nov"](l,11).ngClassTouched,t["\u0275nov"](l,11).ngClassPristine,t["\u0275nov"](l,11).ngClassDirty,t["\u0275nov"](l,11).ngClassValid,t["\u0275nov"](l,11).ngClassInvalid,t["\u0275nov"](l,11).ngClassPending),n(l,21,0,e.isPublishingButtonDisabled())})}var $=e("rIq0"),K=e("DnSO"),J=(e("bkJH"),function(n){function l(l,e,o,i,u,r,a,d,s,c){var p=n.call(this)||this;return p.formValidatorService=l,p.loadingBar=e,p.notificationsService=o,p.authService=i,p.serverService=u,p.videoService=r,p.videoCaptionService=a,p.router=d,p.videoImportService=s,p.i18n=c,p.firstStepDone=new t.EventEmitter,p.firstStepError=new t.EventEmitter,p.targetUrl="",p.isImportingVideo=!1,p.hasImportedVideo=!1,p.isUpdatingVideo=!1,p.DEFAULT_VIDEO_PRIVACY=x.c.PUBLIC,p}return Object(O.__extends)(l,n),l.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this)},l.prototype.canDeactivate=function(){return{canDeactivate:!0}},l.prototype.isTargetUrlValid=function(){return this.targetUrl&&this.targetUrl.match(/https?:\/\//)},l.prototype.importVideo=function(){var n=this;this.isImportingVideo=!0;var l={privacy:this.firstStepPrivacyId,waitTranscoding:!1,commentsEnabled:!0,channelId:this.firstStepChannelId};this.loadingBar.start(),this.videoImportService.importVideoUrl(this.targetUrl,l).subscribe(function(e){n.loadingBar.complete(),n.firstStepDone.emit(e.video.name),n.isImportingVideo=!1,n.hasImportedVideo=!0,n.video=new I.a(Object.assign(e.video,{commentsEnabled:l.commentsEnabled,support:null,thumbnailUrl:null,previewUrl:null})),n.videoPrivacies=n.videoService.explainedPrivacyLabels(n.videoPrivacies),n.hydrateFormFromVideo()},function(l){n.loadingBar.complete(),n.isImportingVideo=!1,n.firstStepError.emit(),n.notificationsService.error(n.i18n("Error"),l.message)})},l.prototype.updateSecondStep=function(){var n=this;!1!==this.checkForm()&&(this.video.patch(this.form.value),this.isUpdatingVideo=!0,this.updateVideoAndCaptions(this.video).subscribe(function(){n.isUpdatingVideo=!1,n.notificationsService.success(n.i18n("Success"),n.i18n("Video to import updated.")),n.router.navigate(["/my-account","video-imports"])},function(l){n.error=l.message,Object(N.k)(),console.error(l)}))},l.prototype.hydrateFormFromVideo=function(){this.form.patchValue(this.video.toFormPatch())},l}(D)),X=e("mTdg"),W=t["\u0275crt"]({encapsulation:0,styles:[u.a,['.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;border:1px solid #c6c6c6;width:190px;border-radius:3px;overflow:hidden;background:var(--inputColor);position:relative;font-size:15px}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:none;box-shadow:none;background:0 0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:0}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.alert.alert-danger[_ngcontent-%COMP%]{text-align:center}.alert.alert-danger[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-weight:600}.import-video-url[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.import-video-url[_ngcontent-%COMP%]   .icon.icon-upload[_ngcontent-%COMP%]{display:inline-block;background-repeat:no-repeat;background-size:contain;width:90px;height:90px;vertical-align:middle;margin-bottom:25px;cursor:default;background-image:url(/client/zh_Hans_CN/upload.de676608ea42ab36dca5.svg)}.import-video-url[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:30px;width:190px;background:var(--inputColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;display:block}.import-video-url[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--inputPlaceholderColor)}.import-video-url[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.import-video-url[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}@media screen and (max-width:190px){.import-video-url[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}.import-video-url[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0;width:190px;margin-top:30px}.import-video-url[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%], .import-video-url[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:active, .import-video-url[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.import-video-url[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.import-video-url[_ngcontent-%COMP%]   input[type=button].disabled[_ngcontent-%COMP%], .import-video-url[_ngcontent-%COMP%]   input[type=button][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}']],data:{}});function Z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)},function(n,l){n(l,3,0,l.context.$implicit.label)})}function nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)},function(n,l){n(l,3,0,l.context.$implicit.label)})}function ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,38,"div",[["class","upload-video-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,37,"div",[["class","import-video-url"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,0,"div",[["class","icon icon-upload"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"label",[["for","targetUrl"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["URL"])),(n()(),t["\u0275eld"](6,0,null,null,1,"my-help",[["customHtml","\u60a8\u53ef\u4ee5\u4ece\u4efb\u4f55 <a href='https://rg3.github.io/youtube-dl/supportedsites.html' target='_blank' rel='noopener noreferrer'>youtube-dl \u652f\u6301\u7684\u94fe\u63a5</a> \u5bfc\u5165\u89c6\u9891\uff0c\u4e5f\u53ef\u4ee5\u5bfc\u5165\u4e00\u4e2a\u6307\u5411 MP4 \u7684\u94fe\u63a5\u3002\u8bf7\u786e\u4fdd\u60a8\u62e5\u6709\u76f8\u5e94\u5185\u5bb9\u7684\u4f20\u64ad\u6743\uff0c\u5426\u5219\u60a8\u548c\u6b64\u5b9e\u4f8b\u90fd\u53ef\u80fd\u4f1a\u9762\u4e34\u6cd5\u5f8b\u98ce\u9669\u3002"],["helpType","custom"]],null,null,null,$.b,$.a)),t["\u0275did"](7,638976,null,0,K.a,[F.a],{customHtml:[0,"customHtml"],helpType:[1,"helpType"]},null),(n()(),t["\u0275eld"](8,0,null,null,5,"input",[["id","targetUrl"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0,i=n.component;return"input"===l&&(o=!1!==t["\u0275nov"](n,9)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,9).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,9)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.targetUrl=e)&&o),o},null,null)),t["\u0275did"](9,16384,null,0,r.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,r.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.DefaultValueAccessor]),t["\u0275did"](11,671744,null,0,r.NgModel,[[8,null],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.NgControl,null,[r.NgModel]),t["\u0275did"](13,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),t["\u0275eld"](14,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,1,"label",[["for","first-step-channel"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u9891\u9053"])),(n()(),t["\u0275eld"](17,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](18,0,null,null,7,"select",[["id","first-step-channel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,19).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,19).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepChannelId=e)&&o),o},null,null)),t["\u0275did"](19,16384,null,0,r.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.SelectControlValueAccessor]),t["\u0275did"](21,671744,null,0,r.NgModel,[[8,null],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.NgControl,null,[r.NgModel]),t["\u0275did"](23,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](25,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](26,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](27,0,null,null,1,"label",[["for","first-step-privacy"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u9690\u79c1"])),(n()(),t["\u0275eld"](29,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,7,"select",[["id","first-step-privacy"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,31).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,31).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepPrivacyId=e)&&o),o},null,null)),t["\u0275did"](31,16384,null,0,r.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.SelectControlValueAccessor]),t["\u0275did"](33,671744,null,0,r.NgModel,[[8,null],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.NgControl,null,[r.NgModel]),t["\u0275did"](35,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,nn)),t["\u0275did"](37,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](38,0,null,null,0,"input",[["type","button"],["value","\u5bfc\u5165"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.importVideo()&&t),t},null,null))],function(n,l){var e=l.component;n(l,7,0,"\u60a8\u53ef\u4ee5\u4ece\u4efb\u4f55 <a href='https://rg3.github.io/youtube-dl/supportedsites.html' target='_blank' rel='noopener noreferrer'>youtube-dl \u652f\u6301\u7684\u94fe\u63a5</a> \u5bfc\u5165\u89c6\u9891\uff0c\u4e5f\u53ef\u4ee5\u5bfc\u5165\u4e00\u4e2a\u6307\u5411 MP4 \u7684\u94fe\u63a5\u3002\u8bf7\u786e\u4fdd\u60a8\u62e5\u6709\u76f8\u5e94\u5185\u5bb9\u7684\u4f20\u64ad\u6743\uff0c\u5426\u5219\u60a8\u548c\u6b64\u5b9e\u4f8b\u90fd\u53ef\u80fd\u4f1a\u9762\u4e34\u6cd5\u5f8b\u98ce\u9669\u3002","custom"),n(l,11,0,e.targetUrl),n(l,21,0,e.firstStepChannelId),n(l,25,0,e.userVideoChannels),n(l,33,0,e.firstStepPrivacyId),n(l,37,0,e.videoPrivacies)},function(n,l){var e=l.component;n(l,8,0,t["\u0275nov"](l,13).ngClassUntouched,t["\u0275nov"](l,13).ngClassTouched,t["\u0275nov"](l,13).ngClassPristine,t["\u0275nov"](l,13).ngClassDirty,t["\u0275nov"](l,13).ngClassValid,t["\u0275nov"](l,13).ngClassInvalid,t["\u0275nov"](l,13).ngClassPending),n(l,18,0,t["\u0275nov"](l,23).ngClassUntouched,t["\u0275nov"](l,23).ngClassTouched,t["\u0275nov"](l,23).ngClassPristine,t["\u0275nov"](l,23).ngClassDirty,t["\u0275nov"](l,23).ngClassValid,t["\u0275nov"](l,23).ngClassInvalid,t["\u0275nov"](l,23).ngClassPending),n(l,30,0,t["\u0275nov"](l,35).ngClassUntouched,t["\u0275nov"](l,35).ngClassTouched,t["\u0275nov"](l,35).ngClassPristine,t["\u0275nov"](l,35).ngClassDirty,t["\u0275nov"](l,35).ngClassValid,t["\u0275nov"](l,35).ngClassInvalid,t["\u0275nov"](l,35).ngClassPending),n(l,38,0,!e.isTargetUrlValid()||e.isImportingVideo)})}function en(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Sorry, but something went wrong"])),(n()(),t["\u0275ted"](3,null,[" ","\n"]))],null,function(n,l){n(l,3,0,l.component.error)})}function tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" \u6210\u529f\uff01\u5c06\u4f1a\u5bfc\u5165 "," \u4e2d\u7684\u89c6\u9891\u3002\u73b0\u5728\u60a8\u53ef\u4ee5\u586b\u5199\u5173\u4e8e\u6b64\u89c6\u9891\u7684\u4fe1\u606f\u4e86\u3002\n"]))],null,function(n,l){n(l,1,0,l.component.targetUrl)})}function on(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](1,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,en)),t["\u0275did"](3,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,tn)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](6,0,null,null,12,"form",[["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,8).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,8).onReset()&&o),o},null,null)),t["\u0275did"](7,16384,null,0,r["\u0275angular_packages_forms_forms_bh"],[],null,null),t["\u0275did"](8,540672,null,0,r.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,r.ControlContainer,null,[r.FormGroupDirective]),t["\u0275did"](10,16384,null,0,r.NgControlStatusGroup,[[4,r.ControlContainer]],null,null),(n()(),t["\u0275eld"](11,0,null,null,1,"my-video-edit",[],null,null,null,g.b,g.a)),t["\u0275did"](12,245760,null,0,v.a,[f.a,m.a,C.a,h.a,h.p,b.NotificationsService,_.a,P.a],{form:[0,"form"],formErrors:[1,"formErrors"],validationMessages:[2,"validationMessages"],videoPrivacies:[3,"videoPrivacies"],userVideoChannels:[4,"userVideoChannels"],schedulePublicationPossible:[5,"schedulePublicationPossible"],videoCaptions:[6,"videoCaptions"]},null),(n()(),t["\u0275eld"](13,0,null,null,5,"div",[["class","submit-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,4,"div",[["class","submit-button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.updateSecondStep()&&t),t},null,null)),t["\u0275did"](15,278528,null,0,a.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](16,{disabled:0}),(n()(),t["\u0275eld"](17,0,null,null,0,"span",[["class","icon icon-validate"]],null,null,null,null,null)),(n()(),t["\u0275eld"](18,0,null,null,0,"input",[["type","button"],["value","\u66f4\u65b0"]],null,null,null,null,null))],function(n,l){var e=l.component;n(l,1,0,!e.hasImportedVideo),n(l,3,0,e.error),n(l,5,0,!e.error&&e.hasImportedVideo),n(l,8,0,e.form),n(l,12,0,e.form,e.formErrors,e.validationMessages,e.videoPrivacies,e.userVideoChannels,!1,e.videoCaptions);var t=n(l,16,0,!e.form.valid||!0===e.isUpdatingVideo);n(l,15,0,"submit-button",t)},function(n,l){n(l,6,0,!l.component.hasImportedVideo,t["\u0275nov"](l,10).ngClassUntouched,t["\u0275nov"](l,10).ngClassTouched,t["\u0275nov"](l,10).ngClassPristine,t["\u0275nov"](l,10).ngClassDirty,t["\u0275nov"](l,10).ngClassValid,t["\u0275nov"](l,10).ngClassInvalid,t["\u0275nov"](l,10).ngClassPending)})}var un=e("4GxJ"),rn=function(n){function l(l,e,o,i,u,r,a,d,s,c){var p=n.call(this)||this;return p.formValidatorService=l,p.loadingBar=e,p.notificationsService=o,p.authService=i,p.serverService=u,p.videoService=r,p.videoCaptionService=a,p.router=d,p.videoImportService=s,p.i18n=c,p.firstStepDone=new t.EventEmitter,p.firstStepError=new t.EventEmitter,p.magnetUri="",p.isImportingVideo=!1,p.hasImportedVideo=!1,p.isUpdatingVideo=!1,p.DEFAULT_VIDEO_PRIVACY=x.c.PUBLIC,p}return Object(O.__extends)(l,n),l.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this)},l.prototype.canDeactivate=function(){return{canDeactivate:!0}},l.prototype.isMagnetUrlValid=function(){return!!this.magnetUri},l.prototype.fileChange=function(){var n=this.torrentfileInput.nativeElement.files[0];n&&this.importVideo(n)},l.prototype.importVideo=function(n){var l=this;this.isImportingVideo=!0;var e={privacy:this.firstStepPrivacyId,waitTranscoding:!1,commentsEnabled:!0,channelId:this.firstStepChannelId};this.loadingBar.start(),this.videoImportService.importVideoTorrent(n||this.magnetUri,e).subscribe(function(n){l.loadingBar.complete(),l.firstStepDone.emit(n.video.name),l.isImportingVideo=!1,l.hasImportedVideo=!0,l.video=new I.a(Object.assign(n.video,{commentsEnabled:e.commentsEnabled,support:null,thumbnailUrl:null,previewUrl:null})),l.videoPrivacies=l.videoService.explainedPrivacyLabels(l.videoPrivacies),l.hydrateFormFromVideo()},function(n){l.loadingBar.complete(),l.isImportingVideo=!1,l.firstStepError.emit(),l.notificationsService.error(l.i18n("Error"),n.message)})},l.prototype.updateSecondStep=function(){var n=this;!1!==this.checkForm()&&(this.video.patch(this.form.value),this.isUpdatingVideo=!0,this.updateVideoAndCaptions(this.video).subscribe(function(){n.isUpdatingVideo=!1,n.notificationsService.success(n.i18n("Success"),n.i18n("Video to import updated.")),n.router.navigate(["/my-account","video-imports"])},function(l){n.error=l.message,Object(N.k)(),console.error(l)}))},l.prototype.hydrateFormFromVideo=function(){this.form.patchValue(this.video.toFormPatch())},l}(D),an=t["\u0275crt"]({encapsulation:0,styles:[u.a,['.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;border:1px solid #c6c6c6;width:190px;border-radius:3px;overflow:hidden;background:var(--inputColor);position:relative;font-size:15px}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:none;box-shadow:none;background:0 0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:0}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.alert.alert-danger[_ngcontent-%COMP%]{text-align:center}.alert.alert-danger[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-weight:600}.import-video-torrent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.import-video-torrent[_ngcontent-%COMP%]   .icon.icon-upload[_ngcontent-%COMP%]{display:inline-block;background-repeat:no-repeat;background-size:contain;width:90px;height:90px;vertical-align:middle;margin-bottom:25px;cursor:default;background-image:url(/client/zh_Hans_CN/upload.de676608ea42ab36dca5.svg)}.import-video-torrent[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block;width:auto;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0;min-width:190px}.import-video-torrent[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%], .import-video-torrent[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:active, .import-video-torrent[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.import-video-torrent[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.import-video-torrent[_ngcontent-%COMP%]   .button-file.disabled[_ngcontent-%COMP%], .import-video-torrent[_ngcontent-%COMP%]   .button-file[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.import-video-torrent[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:0;background:#fff;cursor:inherit;display:block}.import-video-torrent[_ngcontent-%COMP%]   .button-file-extension[_ngcontent-%COMP%]{display:block;font-size:12px;margin-top:5px}.import-video-torrent[_ngcontent-%COMP%]   .torrent-or-magnet[_ngcontent-%COMP%]{margin:10px 0}.import-video-torrent[_ngcontent-%COMP%]   .form-group-magnet-uri[_ngcontent-%COMP%]{margin-bottom:40px}.import-video-torrent[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:30px;width:190px;background:var(--inputColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;display:block}.import-video-torrent[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--inputPlaceholderColor)}.import-video-torrent[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.import-video-torrent[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}@media screen and (max-width:190px){.import-video-torrent[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}.import-video-torrent[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0;width:190px;margin-top:30px}.import-video-torrent[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%], .import-video-torrent[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:active, .import-video-torrent[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.import-video-torrent[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.import-video-torrent[_ngcontent-%COMP%]   input[type=button].disabled[_ngcontent-%COMP%], .import-video-torrent[_ngcontent-%COMP%]   input[type=button][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}']],data:{}});function dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)},function(n,l){n(l,3,0,l.context.$implicit.label)})}function sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)},function(n,l){n(l,3,0,l.context.$implicit.label)})}function cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,46,"div",[["class","upload-video-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,45,"div",[["class","import-video-torrent"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,0,"div",[["class","icon icon-upload"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","button-file"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u9009\u62e9\u8981\u5bfc\u5165\u7684\u79cd\u5b50\u6587\u4ef6"])),(n()(),t["\u0275eld"](6,0,[[1,0],["torrentfileInput",1]],null,0,"input",[["accept",".torrent"],["id","torrentfile"],["name","torrentfile"],["type","file"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.fileChange()&&t),t},null,null)),(n()(),t["\u0275eld"](7,0,null,null,1,"span",[["class","button-file-extension"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["(.torrent)"])),(n()(),t["\u0275eld"](9,0,null,null,1,"div",[["class","torrent-or-magnet"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u6216\u8005"])),(n()(),t["\u0275eld"](11,0,null,null,10,"div",[["class","form-group form-group-magnet-uri"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,null,null,1,"label",[["for","magnetUri"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u7c98\u8d34\u78c1\u529b\u94fe"])),(n()(),t["\u0275eld"](14,0,null,null,1,"my-help",[["customHtml","\u60a8\u53ef\u4ee5\u5bfc\u5165\u4efb\u4f55\u542b MP4 \u6587\u4ef6\u7684\u79cd\u5b50\u6587\u4ef6\u3002\u8bf7\u786e\u4fdd\u60a8\u62e5\u6709\u76f8\u5e94\u5185\u5bb9\u7684\u4f20\u64ad\u6743\uff0c\u5426\u5219\u60a8\u548c\u6b64\u5b9e\u4f8b\u90fd\u53ef\u80fd\u4f1a\u9762\u4e34\u6cd5\u5f8b\u98ce\u9669\u3002"],["helpType","custom"]],null,null,null,$.b,$.a)),t["\u0275did"](15,638976,null,0,K.a,[F.a],{customHtml:[0,"customHtml"],helpType:[1,"helpType"]},null),(n()(),t["\u0275eld"](16,0,null,null,5,"input",[["id","magnetUri"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0,i=n.component;return"input"===l&&(o=!1!==t["\u0275nov"](n,17)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,17).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,17)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,17)._compositionEnd(e.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.magnetUri=e)&&o),o},null,null)),t["\u0275did"](17,16384,null,0,r.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,r.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.DefaultValueAccessor]),t["\u0275did"](19,671744,null,0,r.NgModel,[[8,null],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.NgControl,null,[r.NgModel]),t["\u0275did"](21,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),t["\u0275eld"](22,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](23,0,null,null,1,"label",[["for","first-step-channel"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u9891\u9053"])),(n()(),t["\u0275eld"](25,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](26,0,null,null,7,"select",[["id","first-step-channel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,27).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,27).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepChannelId=e)&&o),o},null,null)),t["\u0275did"](27,16384,null,0,r.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.SelectControlValueAccessor]),t["\u0275did"](29,671744,null,0,r.NgModel,[[8,null],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.NgControl,null,[r.NgModel]),t["\u0275did"](31,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,dn)),t["\u0275did"](33,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](34,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](35,0,null,null,1,"label",[["for","first-step-privacy"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u9690\u79c1"])),(n()(),t["\u0275eld"](37,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](38,0,null,null,7,"select",[["id","first-step-privacy"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,39).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,39).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepPrivacyId=e)&&o),o},null,null)),t["\u0275did"](39,16384,null,0,r.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(n){return[n]},[r.SelectControlValueAccessor]),t["\u0275did"](41,671744,null,0,r.NgModel,[[8,null],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.NgControl,null,[r.NgModel]),t["\u0275did"](43,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,sn)),t["\u0275did"](45,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](46,0,null,null,0,"input",[["type","button"],["value","\u5bfc\u5165"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.importVideo()&&t),t},null,null))],function(n,l){var e=l.component;n(l,15,0,"\u60a8\u53ef\u4ee5\u5bfc\u5165\u4efb\u4f55\u542b MP4 \u6587\u4ef6\u7684\u79cd\u5b50\u6587\u4ef6\u3002\u8bf7\u786e\u4fdd\u60a8\u62e5\u6709\u76f8\u5e94\u5185\u5bb9\u7684\u4f20\u64ad\u6743\uff0c\u5426\u5219\u60a8\u548c\u6b64\u5b9e\u4f8b\u90fd\u53ef\u80fd\u4f1a\u9762\u4e34\u6cd5\u5f8b\u98ce\u9669\u3002","custom"),n(l,19,0,e.magnetUri),n(l,29,0,e.firstStepChannelId),n(l,33,0,e.userVideoChannels),n(l,41,0,e.firstStepPrivacyId),n(l,45,0,e.videoPrivacies)},function(n,l){var e=l.component;n(l,16,0,t["\u0275nov"](l,21).ngClassUntouched,t["\u0275nov"](l,21).ngClassTouched,t["\u0275nov"](l,21).ngClassPristine,t["\u0275nov"](l,21).ngClassDirty,t["\u0275nov"](l,21).ngClassValid,t["\u0275nov"](l,21).ngClassInvalid,t["\u0275nov"](l,21).ngClassPending),n(l,26,0,t["\u0275nov"](l,31).ngClassUntouched,t["\u0275nov"](l,31).ngClassTouched,t["\u0275nov"](l,31).ngClassPristine,t["\u0275nov"](l,31).ngClassDirty,t["\u0275nov"](l,31).ngClassValid,t["\u0275nov"](l,31).ngClassInvalid,t["\u0275nov"](l,31).ngClassPending),n(l,38,0,t["\u0275nov"](l,43).ngClassUntouched,t["\u0275nov"](l,43).ngClassTouched,t["\u0275nov"](l,43).ngClassPristine,t["\u0275nov"](l,43).ngClassDirty,t["\u0275nov"](l,43).ngClassValid,t["\u0275nov"](l,43).ngClassInvalid,t["\u0275nov"](l,43).ngClassPending),n(l,46,0,!e.isMagnetUrlValid()||e.isImportingVideo)})}function pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Sorry, but something went wrong"])),(n()(),t["\u0275ted"](3,null,[" ","\n"]))],null,function(n,l){n(l,3,0,l.component.error)})}function gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u6210\u529f\uff01\u6b64\u89c6\u9891\u5c06\u4f1a\u901a\u8fc7\u79cd\u5b50\u5bfc\u5165\u3002\u73b0\u5728\u60a8\u53ef\u4ee5\u586b\u5199\u5173\u4e8e\u6b64\u89c6\u9891\u7684\u4fe1\u606f\u4e86\u3002\n"]))],null,null)}function vn(n){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{torrentfileInput:0}),(n()(),t["\u0275and"](16777216,null,null,1,null,cn)),t["\u0275did"](2,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](6,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](7,0,null,null,12,"form",[["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,9).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,9).onReset()&&o),o},null,null)),t["\u0275did"](8,16384,null,0,r["\u0275angular_packages_forms_forms_bh"],[],null,null),t["\u0275did"](9,540672,null,0,r.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,r.ControlContainer,null,[r.FormGroupDirective]),t["\u0275did"](11,16384,null,0,r.NgControlStatusGroup,[[4,r.ControlContainer]],null,null),(n()(),t["\u0275eld"](12,0,null,null,1,"my-video-edit",[],null,null,null,g.b,g.a)),t["\u0275did"](13,245760,null,0,v.a,[f.a,m.a,C.a,h.a,h.p,b.NotificationsService,_.a,P.a],{form:[0,"form"],formErrors:[1,"formErrors"],validationMessages:[2,"validationMessages"],videoPrivacies:[3,"videoPrivacies"],userVideoChannels:[4,"userVideoChannels"],schedulePublicationPossible:[5,"schedulePublicationPossible"],videoCaptions:[6,"videoCaptions"]},null),(n()(),t["\u0275eld"](14,0,null,null,5,"div",[["class","submit-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,4,"div",[["class","submit-button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.updateSecondStep()&&t),t},null,null)),t["\u0275did"](16,278528,null,0,a.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](17,{disabled:0}),(n()(),t["\u0275eld"](18,0,null,null,0,"span",[["class","icon icon-validate"]],null,null,null,null,null)),(n()(),t["\u0275eld"](19,0,null,null,0,"input",[["type","button"],["value","\u66f4\u65b0"]],null,null,null,null,null))],function(n,l){var e=l.component;n(l,2,0,!e.hasImportedVideo),n(l,4,0,e.error),n(l,6,0,e.hasImportedVideo&&!e.error),n(l,9,0,e.form),n(l,13,0,e.form,e.formErrors,e.validationMessages,e.videoPrivacies,e.userVideoChannels,!1,e.videoCaptions);var t=n(l,17,0,!e.form.valid||!0===e.isUpdatingVideo);n(l,16,0,"submit-button",t)},function(n,l){n(l,7,0,!l.component.hasImportedVideo,t["\u0275nov"](l,11).ngClassUntouched,t["\u0275nov"](l,11).ngClassTouched,t["\u0275nov"](l,11).ngClassPristine,t["\u0275nov"](l,11).ngClassDirty,t["\u0275nov"](l,11).ngClassValid,t["\u0275nov"](l,11).ngClassInvalid,t["\u0275nov"](l,11).ngClassPending)})}var fn=e("9AJC"),mn=function(){function n(n){this.serverService=n}return n.prototype.onFirstStepDone=function(n,l){this.secondStepType=n,this.videoName=l},n.prototype.onError=function(){this.videoName=void 0,this.secondStepType=void 0},n.prototype.canDeactivate=function(){return"upload"===this.secondStepType?this.videoUpload.canDeactivate():"import-url"===this.secondStepType?this.videoImportUrl.canDeactivate():"import-torrent"===this.secondStepType?this.videoImportTorrent.canDeactivate():{canDeactivate:!0}},n.prototype.isVideoImportHttpEnabled=function(){return this.serverService.getConfig().import.videos.http.enabled},n.prototype.isVideoImportTorrentEnabled=function(){return this.serverService.getConfig().import.videos.torrent.enabled},n}(),Cn=t["\u0275crt"]({encapsulation:0,styles:[[".root-tabset.video-add-tabset.hide-nav>.nav{display:none!important}  .root-tabset.video-add-tabset>.nav{border-bottom:3px solid #eaeaea;margin:0!important}  .root-tabset.video-add-tabset>.nav>li{margin-bottom:-3px}  .root-tabset.video-add-tabset>.nav a.nav-link{height:40px!important;padding:0 30px!important;font-size:15px}  .root-tabset.video-add-tabset>.nav a.nav-link:active,   .root-tabset.video-add-tabset>.nav a.nav-link:focus,   .root-tabset.video-add-tabset>.nav a.nav-link:hover{text-decoration:none!important;outline:0!important}  .root-tabset.video-add-tabset>.nav a.nav-link.active{border:3px solid #eaeaea;border-bottom:none;background-color:var(--submenuColor)!important}  .root-tabset.video-add-tabset>.nav a.nav-link.active span{border-bottom:2px solid var(--mainColor);font-weight:700}  .root-tabset.video-add-tabset .upload-video-container{border:3px solid #eaeaea;border-top:none;background-color:var(--submenuColor);border-radius:3px;width:100%;min-height:440px;padding-bottom:20px;display:flex;justify-content:center;align-items:center}"]],data:{}});function hn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["\u5bfc\u5165 ",""]))],null,function(n,l){n(l,1,0,l.component.videoName)})}function bn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["\u4e0a\u4f20 ",""]))],null,function(n,l){n(l,1,0,l.component.videoName)})}function _n(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u4e0a\u4f20\u6587\u4ef6"]))],null,null)}function Pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"my-video-upload",[],null,[[null,"firstStepDone"],[null,"firstStepError"]],function(n,l,e){var t=!0,o=n.component;return"firstStepDone"===l&&(t=!1!==o.onFirstStepDone("upload",e)&&t),"firstStepError"===l&&(t=!1!==o.onError()&&t),t},Y,L)),t["\u0275did"](1,245760,[[1,4],["videoUpload",4]],0,k,[f.a,S.c,b.NotificationsService,T.a,_.a,V.a,C.a,A.a,h.p,F.a],null,{firstStepDone:"firstStepDone",firstStepError:"firstStepError"})],function(n,l){n(l,1,0)},null)}function On(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u901a\u8fc7 URL \u5bfc\u5165"]))],null,null)}function Mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"my-video-import-url",[],null,[[null,"firstStepDone"],[null,"firstStepError"]],function(n,l,e){var t=!0,o=n.component;return"firstStepDone"===l&&(t=!1!==o.onFirstStepDone("import-url",e)&&t),"firstStepError"===l&&(t=!1!==o.onError()&&t),t},on,W)),t["\u0275did"](1,114688,[[2,4],["videoImportUrl",4]],0,J,[f.a,S.c,b.NotificationsService,T.a,_.a,V.a,C.a,h.p,X.a,F.a],null,{firstStepDone:"firstStepDone",firstStepError:"firstStepError"})],function(n,l){n(l,1,0)},null)}function Sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"ngb-tab",[],null,null,null,null,null)),t["\u0275did"](1,2113536,[[4,4]],2,un.M,[],null,null),t["\u0275qud"](603979776,7,{titleTpls:1}),t["\u0275qud"](603979776,8,{contentTpls:1}),(n()(),t["\u0275and"](0,null,null,1,null,On)),t["\u0275did"](5,16384,[[7,4]],0,un.O,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Mn)),t["\u0275did"](7,16384,[[8,4]],0,un.N,[t.TemplateRef],null,null)],null,null)}function yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u901a\u8fc7\u79cd\u5b50\u6587\u4ef6\u5bfc\u5165"]))],null,null)}function xn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"my-video-import-torrent",[],null,[[null,"firstStepDone"],[null,"firstStepError"]],function(n,l,e){var t=!0,o=n.component;return"firstStepDone"===l&&(t=!1!==o.onFirstStepDone("import-torrent",e)&&t),"firstStepError"===l&&(t=!1!==o.onError()&&t),t},vn,an)),t["\u0275did"](1,114688,[[3,4],["videoImportTorrent",4]],0,rn,[f.a,S.c,b.NotificationsService,T.a,_.a,V.a,C.a,h.p,X.a,F.a],null,{firstStepDone:"firstStepDone",firstStepError:"firstStepError"})],function(n,l){n(l,1,0)},null)}function In(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"ngb-tab",[],null,null,null,null,null)),t["\u0275did"](1,2113536,[[4,4]],2,un.M,[],null,null),t["\u0275qud"](603979776,9,{titleTpls:1}),t["\u0275qud"](603979776,10,{contentTpls:1}),(n()(),t["\u0275and"](0,null,null,1,null,yn)),t["\u0275did"](5,16384,[[9,4]],0,un.O,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,xn)),t["\u0275did"](7,16384,[[10,4]],0,un.N,[t.TemplateRef],null,null)],null,null)}function Vn(n){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{videoUpload:0}),t["\u0275qud"](671088640,2,{videoImportUrl:0}),t["\u0275qud"](671088640,3,{videoImportTorrent:0}),(n()(),t["\u0275eld"](3,0,null,null,22,"div",[["class","margin-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,hn)),t["\u0275did"](6,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,bn)),t["\u0275did"](8,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](9,0,null,null,16,"ngb-tabset",[["class","video-add-tabset root-tabset bootstrap"]],null,null,null,fn.b,fn.a)),t["\u0275did"](10,278528,null,0,a.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](11,{"hide-nav":0}),t["\u0275did"](12,2146304,null,1,un.P,[un.Q],null,null),t["\u0275qud"](603979776,4,{tabs:1}),(n()(),t["\u0275eld"](14,0,null,null,7,"ngb-tab",[],null,null,null,null,null)),t["\u0275did"](15,2113536,[[4,4]],2,un.M,[],null,null),t["\u0275qud"](603979776,5,{titleTpls:1}),t["\u0275qud"](603979776,6,{contentTpls:1}),(n()(),t["\u0275and"](0,null,null,1,null,_n)),t["\u0275did"](19,16384,[[5,4]],0,un.O,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Pn)),t["\u0275did"](21,16384,[[6,4]],0,un.N,[t.TemplateRef],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,Sn)),t["\u0275did"](23,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,In)),t["\u0275did"](25,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,6,0,"import-url"===e.secondStepType||"import-torrent"===e.secondStepType),n(l,8,0,"upload"===e.secondStepType);var t=n(l,11,0,void 0!==e.secondStepType);n(l,10,0,"video-add-tabset root-tabset bootstrap",t),n(l,23,0,e.isVideoImportHttpEnabled()),n(l,25,0,e.isVideoImportTorrentEnabled())},null)}function En(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"my-videos-add",[],null,null,null,Vn,Cn)),t["\u0275did"](1,49152,null,0,mn,[_.a],null,null)],null,null)}var Rn=t["\u0275ccf"]("my-videos-add",mn,En,{},{},[]),Un=e("AQUW"),wn=e("9IV+"),Nn=e("Huiz"),Dn=e("nvTd"),kn=e("upD4"),Tn=e("6RP5"),An=e("HvDw"),Fn=e("l/z6"),Ln=e("uEkc"),Bn=e("wQE2"),zn=e("VNja"),Gn=e("mpCX"),jn=e("hD3C"),Hn=e("F4xN"),Qn=e("Qmuk"),qn=e("wpFD"),Yn=e("/7bI"),$n=e("JtBY"),Kn=e("D/X6"),Jn=e("cvwr"),Xn=e("tSwB"),Wn=e("RtUV"),Zn=e("W3Gj"),nl=e("hlYB"),ll=e("fR23"),el=e("fftR"),tl=e("37nT"),ol=e("cDr6"),il=function(){return function(){}}(),ul=e("h8Xd"),rl=e("VSng"),al=e("7LN8"),dl=e("KB/w"),sl=e("PCNd"),cl=e("pYoP"),pl=e("0dEx");e.d(l,"VideoAddModuleNgFactory",function(){return gl});var gl=t["\u0275cmf"](o,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,Rn,fn.f,fn.c,fn.d,fn.e]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[t.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,r.FormBuilder,r.FormBuilder,[]),t["\u0275mpd"](4608,r["\u0275angular_packages_forms_forms_j"],r["\u0275angular_packages_forms_forms_j"],[]),t["\u0275mpd"](4608,Un.h,Un.h,[]),t["\u0275mpd"](4608,M.m,M.s,[a.DOCUMENT,t.PLATFORM_ID,M.q]),t["\u0275mpd"](4608,M.t,M.t,[M.m,M.r]),t["\u0275mpd"](5120,M.a,function(n,l){return[n,new wn.a(l)]},[M.t,t.Injector]),t["\u0275mpd"](4608,M.p,M.p,[]),t["\u0275mpd"](6144,M.n,null,[M.p]),t["\u0275mpd"](4608,M.l,M.l,[M.n]),t["\u0275mpd"](6144,M.b,null,[M.l]),t["\u0275mpd"](4608,M.g,M.o,[M.b,t.Injector]),t["\u0275mpd"](4608,M.c,M.c,[M.g]),t["\u0275mpd"](4608,un.w,un.w,[t.ComponentFactoryResolver,t.Injector,un.bb,un.x]),t["\u0275mpd"](4608,F.a,F.a,[t.TRANSLATIONS_FORMAT,t.TRANSLATIONS,t.LOCALE_ID,[2,F.b]]),t["\u0275mpd"](4608,Nn.a,Nn.a,[h.p,F.a]),t["\u0275mpd"](4608,Dn.a,Dn.a,[]),t["\u0275mpd"](4608,kn.a,kn.a,[M.c,Dn.a,Nn.a]),t["\u0275mpd"](4608,Tn.a,Tn.a,[M.c,Dn.a,Nn.a]),t["\u0275mpd"](4608,An.a,An.a,[M.c,Dn.a,Nn.a]),t["\u0275mpd"](4608,A.a,A.a,[M.c,Nn.a,Dn.a,F.a]),t["\u0275mpd"](4608,V.a,V.a,[M.c,Nn.a,Dn.a,_.a,F.a]),t["\u0275mpd"](4608,Fn.a,Fn.a,[M.c,Nn.a]),t["\u0275mpd"](4608,Ln.a,Ln.a,[]),t["\u0275mpd"](4608,Bn.a,Bn.a,[M.c,Nn.a]),t["\u0275mpd"](4608,C.a,C.a,[M.c,_.a,Nn.a]),t["\u0275mpd"](4608,X.a,X.a,[M.c,Dn.a,Nn.a,_.a]),t["\u0275mpd"](4608,zn.a,zn.a,[M.c,Nn.a,Dn.a]),t["\u0275mpd"](4608,f.a,f.a,[r.FormBuilder]),t["\u0275mpd"](4608,Gn.a,Gn.a,[F.a]),t["\u0275mpd"](4608,jn.a,jn.a,[F.a]),t["\u0275mpd"](4608,Hn.a,Hn.a,[F.a]),t["\u0275mpd"](4608,Qn.a,Qn.a,[F.a]),t["\u0275mpd"](4608,qn.a,qn.a,[F.a]),t["\u0275mpd"](4608,Yn.a,Yn.a,[F.a]),t["\u0275mpd"](4608,$n.a,$n.a,[F.a]),t["\u0275mpd"](4608,m.a,m.a,[F.a]),t["\u0275mpd"](4608,Kn.a,Kn.a,[F.a]),t["\u0275mpd"](4608,Jn.a,Jn.a,[F.a]),t["\u0275mpd"](4608,Xn.a,Xn.a,[M.c,Nn.a,V.a,_.a]),t["\u0275mpd"](4608,Wn.a,Wn.a,[F.a]),t["\u0275mpd"](4608,Zn.a,Zn.a,[F.a]),t["\u0275mpd"](4608,nl.a,nl.a,[M.c,Nn.a,Dn.a]),t["\u0275mpd"](4608,P.a,P.a,[F.a]),t["\u0275mpd"](4608,ll.a,ll.a,[]),t["\u0275mpd"](4608,el.a,el.a,[tl.a,F.a]),t["\u0275mpd"](1073742336,h.t,h.t,[[2,h.z],[2,h.p]]),t["\u0275mpd"](1073742336,il,il,[]),t["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),t["\u0275mpd"](1073742336,r["\u0275angular_packages_forms_forms_bc"],r["\u0275angular_packages_forms_forms_bc"],[]),t["\u0275mpd"](1073742336,r.ReactiveFormsModule,r.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,r.FormsModule,r.FormsModule,[]),t["\u0275mpd"](1073742336,ul.e,ul.e,[]),t["\u0275mpd"](1073742336,Un.f,Un.f,[]),t["\u0275mpd"](1073742336,rl.ButtonModule,rl.ButtonModule,[]),t["\u0275mpd"](1073742336,al.SharedModule,al.SharedModule,[]),t["\u0275mpd"](1073742336,dl.CalendarModule,dl.CalendarModule,[]),t["\u0275mpd"](1073742336,M.e,M.e,[]),t["\u0275mpd"](1073742336,M.d,M.d,[]),t["\u0275mpd"](1073742336,un.u,un.u,[]),t["\u0275mpd"](1073742336,un.y,un.y,[]),t["\u0275mpd"](1073742336,un.F,un.F,[]),t["\u0275mpd"](1073742336,un.R,un.R,[]),t["\u0275mpd"](1073742336,un.Y,un.Y,[]),t["\u0275mpd"](1073742336,y.b,y.b,[]),t["\u0275mpd"](1073742336,y.g,y.g,[]),t["\u0275mpd"](1073742336,y.d,y.d,[]),t["\u0275mpd"](1073742336,y.c,y.c,[]),t["\u0275mpd"](1073742336,y.e,y.e,[]),t["\u0275mpd"](1073742336,y.f,y.f,[]),t["\u0275mpd"](1073742336,sl.a,sl.a,[]),t["\u0275mpd"](1073742336,cl.a,cl.a,[]),t["\u0275mpd"](1073742336,d.ProgressBarModule,d.ProgressBarModule,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,h.n,function(){return[[{path:"",component:mn,canActivate:[ol.a,pl.a],canDeactivate:[el.a]}]]},[]),t["\u0275mpd"](256,t.LOCALE_ID,"zh-Hans-CN",[]),t["\u0275mpd"](256,r.COMPOSITION_BUFFER_MODE,!1,[]),t["\u0275mpd"](256,M.q,"XSRF-TOKEN",[]),t["\u0275mpd"](256,M.r,"X-XSRF-TOKEN",[]),t["\u0275mpd"](256,t.TRANSLATIONS_FORMAT,"xlf",[])])})},GS5F:function(n,l,e){var t=e("mrSG").__decorate,o=e("mrSG").__metadata;Object.defineProperty(l,"__esModule",{value:!0});var i=e("CcnG"),u=e("Ip0R"),r=function(){function n(){this.showValue=!0,this.unit="%",this.mode="determinate"}return t([i.Input(),o("design:type",Object)],n.prototype,"value",void 0),t([i.Input(),o("design:type",Boolean)],n.prototype,"showValue",void 0),t([i.Input(),o("design:type",Object)],n.prototype,"style",void 0),t([i.Input(),o("design:type",String)],n.prototype,"styleClass",void 0),t([i.Input(),o("design:type",String)],n.prototype,"unit",void 0),t([i.Input(),o("design:type",String)],n.prototype,"mode",void 0),t([i.Component({selector:"p-progressBar",template:'\n        <div [class]="styleClass" [ngStyle]="style" role="progressbar" aria-valuemin="0" [attr.aria-valuenow]="value" aria-valuemax="100"\n            [ngClass]="{\'ui-progressbar ui-widget ui-widget-content ui-corner-all\': true, \'ui-progressbar-determinate\': (mode === \'determinate\'), \'ui-progressbar-indeterminate\': (mode === \'indeterminate\')}">\n            <div class="ui-progressbar-value ui-progressbar-value-animate ui-widget-header ui-corner-all" [style.width]="value + \'%\'" style="display:block"></div>\n            <div class="ui-progressbar-label" [style.display]="value != null ? \'block\' : \'none\'" *ngIf="showValue">{{value}}{{unit}}</div>\n        </div>\n    '})],n)}();l.ProgressBar=r,l.ProgressBarModule=function(){return t([i.NgModule({imports:[u.CommonModule],exports:[r],declarations:[r]})],function(){})}()}}]);